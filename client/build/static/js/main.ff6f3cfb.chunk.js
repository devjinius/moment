(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{378:function(e,t,a){e.exports=a(593)},383:function(e,t,a){},384:function(e,t,a){},475:function(e,t,a){},591:function(e,t,a){},593:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(62),l=a.n(o),i=(a(383),a(384),a(119)),c=a(103),u=a(372),d=a(81),s=a(25),m=a(74),h=a(75),p=a(79),v=a(76),g=a(80),f=a(44),E=a(45),b=a(266),O=a(201),j=a(254),k=a(256),C=a(115),y=a(302);function w(){var e=Object(f.a)(["\n  padding: 1rem;\n  margin-top: 1rem;\n"]);return w=function(){return e},e}var T=E.a.div(w()),S=function(e){var t=e.title,a=e.content,n=e.onChange,o=e.onCreate,l=e.error;return r.a.createElement(T,null,r.a.createElement(b.a,{error:l},r.a.createElement(O.a,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,{width:14},r.a.createElement(j.a,{name:"title",fluid:!0,size:"large",placeholder:"\ud560 \uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:t,onChange:n}))),r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,{width:14},r.a.createElement(k.a,{name:"content",rows:1,size:"large",placeholder:"\uc124\uba85\ub3c4 \uc785\ub825\ud574\uc8fc\uc138\uc694.",value:a,onChange:n})),r.a.createElement(O.a.Column,{width:2},r.a.createElement(C.a,{circular:!0,icon:"plus",size:"large",onClick:o}))),l?r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,{width:14},r.a.createElement(y.a,{width:14,error:l,content:"\uc81c\ubaa9\uc774 \uc5c6\ub294 Todo\ub294 \ub9cc\ub4e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}))):r.a.createElement(r.a.Fragment,null))))},M=(a(475),a(29)),R=a(303),I=a(78),x=a(31),F=a.n(x),D=function(e){return A(F()(e).format("YYYY.MM.DD HH:mm"))},A=function(e){return""===e||void 0===e?null:e};function P(){var e=Object(f.a)([""]);return P=function(){return e},e}function Y(){var e=Object(f.a)([""]);return Y=function(){return e},e}var H=E.a.p(Y()),N=E.a.span(P()),z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:-1},a.handleClick=function(e,t){var n=t.index,r=a.state.activeIndex===n?-1:n;a.setState({activeIndex:r})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"getPriorityIcon",value:function(e,t){var a=r.a.createElement(r.a.Fragment,null);return t.some(function(t){return t.id===e&&(a=r.a.createElement(M.a,{name:"star",color:t.color}),!0)}),a}},{key:"getDeadlineItem",value:function(e,t){return t?"":this.isValidTime(e)?r.a.createElement("div",null,r.a.createElement(M.a,{name:"calendar check outline"}),D(e)):""}},{key:"isValidTime",value:function(e){return null!==e&&void 0!==e}},{key:"getAlramStatus",value:function(e,t){if(t)return!1;if(!this.isValidTime(e))return!1;var a=function(e){return F()(e).diff(F()(),"days")}(e);return 0<=a&&a<=3}},{key:"getAlramItem",value:function(e,t){return this.getAlramStatus(e,t)?r.a.createElement(M.a,{name:"warning",color:"red"}):r.a.createElement(r.a.Fragment,null)}},{key:"render",value:function(){var e=this.state.activeIndex,t=this.props,a=t.title,n=t.content,o=t.deadline,l=t.id,c=t.checked,u=t.priority,d=t.priorities,s=t.onToggle,m=t.onRemove;return r.a.createElement(O.a,{className:"todo-grid"},r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,{width:14},r.a.createElement(R.a,{className:"todo-accordion",styled:!0},r.a.createElement(R.a.Title,{active:0===e,index:0,onClick:this.handleClick},this.getPriorityIcon(u,d),this.getAlramItem(o,c),r.a.createElement(N,{className:c?"done":"todo"},a)),r.a.createElement(R.a.Content,{active:0===e},r.a.createElement(O.a,{stackable:!0},r.a.createElement(O.a.Column,{mobile:16,tablet:7,computer:10},r.a.createElement(H,{className:c?"done":"todo"},n),this.getDeadlineItem(o,c)),r.a.createElement(O.a.Column,{mobile:16,tablet:3,computer:2},r.a.createElement(C.a,{name:"checked",value:c,fluid:!0,basic:!0,icon:c?"check circle outline":"circle outline",color:c?"green":"black",onClick:function(e){return s(l)}})),r.a.createElement(O.a.Column,{mobile:16,tablet:3,computer:2},r.a.createElement(i.b,{to:"/edit/".concat(l)},r.a.createElement(C.a,{basic:!0,fluid:!0,icon:"pencil",color:"brown"}))),r.a.createElement(O.a.Column,{mobile:16,tablet:3,computer:2},r.a.createElement(C.a,{basic:!0,icon:"delete",color:"red",fluid:!0,onClick:function(e){return m(l)}})))))),r.a.createElement(I.a,{width:2})))}}]),t}(n.Component),G=function(e){var t=e.order,a=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,{width:14},r.a.createElement(C.a.Group,{basic:!0,size:"mini",floated:"right"},r.a.createElement(C.a,{value:"priority",active:"priority"===t,onClick:a},"\uc6b0\uc120\uc21c\uc704"),r.a.createElement(C.a,{value:"deadline",active:"deadline"===t,onClick:a},"\ub9c8\uac10\uae30\ud55c"))))))},V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{order:e.order,onClick:e.onOrderClick}),function(e){var t=e.todos,a=e.priorities,n=e.handleToggle,o=e.handleRemove;return t.map(function(e){return r.a.createElement(z,Object.assign({},e,{priorities:a,onToggle:n,onRemove:o,key:e.id}))})}(e))},q=a(150),J=a.n(q),L={get:function(e,t){var a=t||"";return J.a.get(e+a)},post:function(e,t){var a=t||"";return J.a.post(e,a)},patch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return J.a.patch(e+t,a)},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return J.a.delete(e+t)}};function B(){var e=Object(f.a)(["\n  padding: 1rem;\n  margin-top: 1rem;\n"]);return B=function(){return e},e}var K=E.a.div(B()),Q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={newTodo:{title:"",content:"",error:!1},todos:[{id:-1,title:"",content:"",deadline:"",checked:!1}],priorities:[{color:"",id:-1,label:""}],order:"priority"},a.handleChange=function(e){var t,n=a.state.newTodo,r=Object(s.a)({},a.state,{newTodo:Object(s.a)({},n,(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"error",!1),t))});a.setState(r)},a.handleCreate=function(){var e=a.state,t=e.newTodo,n=e.todos;a.isEmpty(t.title)?a.setState(Object(s.a)({},a.state,{newTodo:Object(s.a)({},t,{error:!0})})):L.post("/api/todo",t).then(function(e){var t=e.data,r=t.todo,o=t.error,l=t.errorMessage;o?alert(l):a.setState(Object(s.a)({},a.todos,{newTodo:{title:"",content:"",error:!1},todos:n.concat(r)}))})},a.handleRemove=function(e){var t=a.state.todos;L.remove("/api/todo/",e).then(function(n){var r=n.data,o=r.error,l=r.errorMessage;o?alert(l):a.setState(Object(s.a)({},a.state,{todos:t.filter(function(t){return t.id!==e})}))})},a.handleToggle=function(e){var t=a.state.todos,n=t.findIndex(function(t){return t.id===e}),r=Object(u.a)(t),o={checked:!t[n].checked};L.patch("/api/todo/",e,o).then(function(e){var t=e.data.todo;r[n].checked=t.checked,a.setState(Object(s.a)({},a.state,{todos:r}))})},a.handleOrder=function(e){var t=e.target.value;L.get("/api/todos/".concat(t)).then(function(e){var n=e.data.todos;a.setState(Object(s.a)({},a.state,{todos:n,order:t}))})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([L.get("/api/todos"),L.get("/api/priorities")]).then(function(t){var a=t.shift().data,n=t.shift().data;a.error?alert(a.errorMessage):n.error?alert(n.errorMessage):e.setState(Object(s.a)({},e.state,{todos:a.todos,priorities:n.priorities}))})}},{key:"isEmpty",value:function(e){return""===e}},{key:"render",value:function(){var e=this.state,t=e.newTodo,a=e.todos,n=e.priorities,o=e.order;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,Object.assign({},t,{onChange:this.handleChange,onCreate:this.handleCreate})),r.a.createElement(K,null,r.a.createElement(V,{todos:a,priorities:n,order:o,onOrderClick:this.handleOrder,handleToggle:this.handleToggle,handleRemove:this.handleRemove})))}}]),t}(n.Component),U=a(353),W=a(146),X=a(331),Z=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"getPrioritiesRadio",value:function(e,t,a){return t.map(function(t){return r.a.createElement(b.a.Radio,{label:t.label,name:"priority",value:t.id,checked:e===t.id,onChange:a,key:t.id})}).concat(r.a.createElement(b.a.Radio,{label:"\uc9c0\uc815\ud558\uc9c0 \uc54a\uc74c",name:"priority",value:-1,checked:null===e||-1===e,onChange:a,key:0}))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.title,n=e.content,o=e.priority,l=e.priorities,c=e.checked,u=e.deadline,d=e.handleChange,s=e.onToggle,m=e.onSubmit,h=e.success,p=e.error,v=e.errorMessage;return r.a.createElement(O.a,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Column,null,r.a.createElement(b.a,{loading:function(e){return-1===e}(t),success:h,error:p},r.a.createElement(W.a,{stacked:!0,clearing:!0},r.a.createElement(b.a.Field,null,r.a.createElement(b.a.Input,{label:"Title",name:"title",id:"form-input-control-title",placeholder:"Todo\ub97c \ub9cc\ub4dc\uc138\uc694.",value:a,onChange:d,required:!0,error:!a})),r.a.createElement(b.a.Field,null,r.a.createElement(b.a.TextArea,{label:"Description",name:"content",id:"form-input-control-content",placeholder:"\uc124\uba85\uc744 \uc801\uc5b4\uc8fc\uc138\uc694...",value:n,onChange:d})),r.a.createElement(X.a,{section:!0}),r.a.createElement(b.a.Group,{grouped:!0},r.a.createElement("label",null,"Priority"),this.getPrioritiesRadio(o,l,d)),r.a.createElement(X.a,{section:!0}),r.a.createElement(b.a.Group,{widths:"equal"},r.a.createElement(b.a.Field,null,r.a.createElement(U.DateTimeInput,{label:"\ub9c8\uac10\uae30\ud55c",inlineLabel:!0,name:"deadline",placeholder:"Deadline",value:D(u),iconPosition:"left",clearable:!0,closable:!0,dateTimeFormat:"YYYY.MM.DD HH:mm",onChange:d,minDate:F()()})),r.a.createElement(b.a.Field,null,r.a.createElement(b.a.Checkbox,{label:r.a.createElement("label",null,"\uc644\ub8cc"),name:"checked",slider:!0,checked:c,onChange:s}))),h?r.a.createElement(y.a,{success:!0,header:"\uc218\uc815\uc644\ub8cc",content:"\ubcc0\uacbd\ud558\uc2e0 \uc0ac\ud56d\uc774 \ubaa8\ub450 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}):r.a.createElement(r.a.Fragment,null),p?r.a.createElement(y.a,{error:!0,header:"\uc2e4\ud328",content:v}):r.a.createElement(r.a.Fragment,null)),r.a.createElement(C.a.Group,{floated:"right"},r.a.createElement(i.b,{to:"/"},r.a.createElement(C.a,null,"\ub3cc\uc544\uac00\uae30")),r.a.createElement(C.a.Or,null),r.a.createElement(C.a,{positive:!0,onClick:m},"\uc218\uc815\ud558\uae30"))))))}}]),t}(n.Component),$=a(332);function _(){var e=Object(f.a)(["\n  padding: 1rem;\n  margin-top: 1rem;\n"]);return _=function(){return e},e}var ee=E.a.div(_()),te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={todo:{id:-1,title:"",content:"",priority:-1,checked:!0,deadline:null,success:!1,error:!1,errorMessage:""},priorities:[{color:"",id:-1,label:""}]},a.editHandleChange=function(e,t){var n=t.name,r=t.value,o=a.state.todo;a.setState(Object(s.a)({},a.state,{todo:Object(s.a)({},o,Object(d.a)({},n,r))}))},a.handleToggle=function(e,t){var n=t.name,r=t.checked,o=a.state.todo;a.setState(Object(s.a)({},a.state,{todo:Object(s.a)({},o,Object(d.a)({},n,r))}))},a.handleSubmit=function(e){var t=a.state.todo;a.setState(Object(s.a)({},a.state,{todo:Object(s.a)({},t,{success:!1})})),""!==t.title&&(""===t.deadline&&(t.deadline=null),-1===t.priority&&(t.priority=null),L.patch("/api/todo/",t.id,t).then(function(e){var t=e.data,n=t.todo,r=t.error,o=t.errorMessage;if(r){var l=Object(s.a)({},a.state,{todo:Object(s.a)({},n,{error:r,errorMessage:o})});a.setState(l)}else n.success=!0,a.setState(Object(s.a)({},a.state,{todo:n}))}))},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Promise.all([L.get("/api/todo/".concat(t)),L.get("/api/priorities")]).then(function(t){var a=t.shift().data,n=t.shift().data;a.error?alert(a.errorMessage):n.error?alert(n.errorMessage):e.setState(Object(s.a)({},e.state,{todo:a.todo,priorities:n.priorities}))})}},{key:"render",value:function(){return r.a.createElement(ee,null,r.a.createElement($.a,{as:"h2"},"Edit Todo"),r.a.createElement(Z,Object.assign({},this.state.todo,{priorities:this.state.priorities,handleChange:this.editHandleChange,onToggle:this.handleToggle,onSubmit:this.handleSubmit})))}}]),t}(n.Component);a(591);function ae(){var e=Object(f.a)(["\n  border-bottom: 1px solid #dda0dd;\n  padding: 1rem;\n  margin-top: 1rem;\n"]);return ae=function(){return e},e}var ne=E.a.div(ae()),re=function(e){return r.a.createElement(ne,null,r.a.createElement($.a,{className:"header-title"},"Moment",r.a.createElement($.a.Subheader,null,"Live in the moment")),r.a.createElement($.a,{as:"h5"},"\ubbf8\ub798\uc5d0 \ud560 \uc77c\uc744 Todo App\uc5d0 \ub9e1\uae30\uace0 \ud604\uc7ac\uc5d0 \uc9d1\uc911\ud558\uc138\uc694."))};function oe(){var e=Object(f.a)(["\n  padding: 1rem;\n  margin-top: 1rem;\n"]);return oe=function(){return e},e}var le=E.a.div(oe()),ie=function(e){return r.a.createElement(le,null)},ce=a(330);var ue=function(){return r.a.createElement(ce.a,null,r.a.createElement(re,null),r.a.createElement(i.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:Q}),r.a.createElement(c.a,{exact:!0,path:"/edit/:id",component:te})),r.a.createElement(ie,null))};a(592);l.a.render(r.a.createElement(ue,null),document.getElementById("root"))}},[[378,1,2]]]);
//# sourceMappingURL=main.ff6f3cfb.chunk.js.map